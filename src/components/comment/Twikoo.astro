---
interface Props {
	path: string;
}

// const { path } = Astro.props;
---

<div id="tcomment"></div>

<script is:inline>
  // Load Twikoo script dynamically
  const script = document.createElement('script');
  script.src = 'https://registry.npmmirror.com/twikoo/1.6.44/files/dist/twikoo.min.js';
  script.integrity = 'sha384-dZ/hSVfTPHuzXyECOYCetAvMd0cgqWxN5Fh+mwo86PV4GdU9xgQ/MNzh/YM/lotR';
  script.crossOrigin = 'anonymous';
  script.onload = () => {
    // Initialize Twikoo after script is loaded
    twikoo.init({
      envId: 'https://twikoo0811.netlify.app/.netlify/functions/twikoo',
      el: '#tcomment',
      lang: 'zh-CN',
      path: '{Astro.props.path}',
    });
  };
  document.head.appendChild(script);
</script>